{"componentChunkName":"component---src-templates-page-template-js","path":"/api/matching/","result":{"data":{"site":{"siteMetadata":{"title":"Violentmonkey"}},"markdownRemark":{"html":"<p>There are four types of rules: <code class=\"language-text\">@match</code> / <code class=\"language-text\">@exclude-match</code> / <code class=\"language-text\">@include</code> / <code class=\"language-text\">@exclude</code> in Violentmonkey.</p>\n<h2 id=\"match--exclude-match\"><a href=\"#match--exclude-match\" aria-label=\"match  exclude match permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@match / @exclude-match</h2>\n<p>It is recommended to use <code class=\"language-text\">@match</code> / <code class=\"language-text\">@exclude-match</code> rather than <code class=\"language-text\">@include</code> / <code class=\"language-text\">@exclude</code> because the <em>match</em> rules are safer and more strict.</p>\n<p><code class=\"language-text\">@match</code> defines a URL matching rule. <code class=\"language-text\">@exclude-match</code> defines a match rule but used to exclude the matched URLs, similar to <code class=\"language-text\">@exclude</code>.</p>\n<p>For more details, see <a href=\"https://developer.chrome.com/extensions/match_patterns\">Match Patterns</a> for Chrome extensions.</p>\n<p>Note that match patterns only work on scheme, host and path, i.e. match patterns always ignore query string and hash.</p>\n<p>Since Violentmonkey v2.10.4, some additional rules are accepted:</p>\n<ul>\n<li>the scheme part accepts <code class=\"language-text\">http*</code> to match <code class=\"language-text\">http</code> or <code class=\"language-text\">https</code>;</li>\n<li>the host part accepts wildcards (<code class=\"language-text\">*</code>) at any position, e.g. <code class=\"language-text\">www.google.*</code>;</li>\n<li>the host part accepts <code class=\"language-text\">.tld</code> to match any top level domain suffix.</li>\n</ul>\n<p>Examples:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @match *://*/*</span>\n<span class=\"token comment\">// @exclude-match *://*.tk/*</span></code></pre></div>\n<h2 id=\"include--exclude\"><a href=\"#include--exclude\" aria-label=\"include  exclude permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@include / @exclude</h2>\n<p>Each <code class=\"language-text\">@include</code> and <code class=\"language-text\">@exclude</code> rule can be one of the following:</p>\n<ul>\n<li>\n<p>a normal string</p>\n<p>If the string does not start or end with a slash (<code class=\"language-text\">/</code>), it will be used as a normal string.</p>\n<p>If there are wildcards (<code class=\"language-text\">*</code>), each of them matches any characters.</p>\n<p>e.g. <code class=\"language-text\">https://www.google.com/*</code> matches the following:</p>\n<ul>\n<li><code class=\"language-text\">https://www.google.com/</code></li>\n<li><code class=\"language-text\">https://www.google.com/any/subview</code></li>\n</ul>\n<p>but not the following:</p>\n<ul>\n<li><code class=\"language-text\">http://www.google.com/</code></li>\n<li><code class=\"language-text\">https://www.google.com.hk/</code></li>\n</ul>\n<p>If there is no wildcard in the string, the rule matches the entire URL.</p>\n<p>e.g. <code class=\"language-text\">https://www.google.com/</code> matches only <code class=\"language-text\">https://www.google.com/</code> but not <code class=\"language-text\">https://www.google.com/any/subview</code>.</p>\n<p>The host part accepts <code class=\"language-text\">.tld</code> to match top level domain suffix.</p>\n<p>e.g. <code class=\"language-text\">https://www.google.tld/</code> matches both <code class=\"language-text\">https://www.google.com/</code> and <code class=\"language-text\">https://www.google.co.jp/</code>.</p>\n</li>\n<li>\n<p>a regular expression</p>\n<p>If the string starts and ends with a slash (<code class=\"language-text\">/</code>), it will be compiled as a regular expression.</p>\n<p>e.g. <code class=\"language-text\">/\\.google\\.com[\\.\\/]/</code> matches the following:</p>\n<ul>\n<li><code class=\"language-text\">https://www.google.com/</code>,</li>\n<li><code class=\"language-text\">https://www.google.com/any/subview</code></li>\n<li><code class=\"language-text\">http://www.google.com/</code></li>\n<li><code class=\"language-text\">https://www.google.com.hk/</code></li>\n</ul>\n</li>\n</ul>\n<p>Examples:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// @include *</span>\n<span class=\"token comment\">// @include https://www.google.com/*</span>\n<span class=\"token comment\">// @include /\\.com\\.hk\\//</span>\n<span class=\"token comment\">// @exclude https://www.google.com/exact/url</span></code></pre></div>\n<h2 id=\"how-does-a-script-match\"><a href=\"#how-does-a-script-match\" aria-label=\"how does a script match permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How does a script match?</h2>\n<p>In short, a script will execute if it matches any <code class=\"language-text\">@match</code> or <code class=\"language-text\">@include</code> rule and does not match any <code class=\"language-text\">@exclude-match</code> or <code class=\"language-text\">@exclude</code> rule.</p>\n<p>Here is the long version:</p>\n<ul>\n<li>If any <code class=\"language-text\">@exclude-match</code> or <code class=\"language-text\">@exclude</code> rule matches, the script does not match.</li>\n<li>Otherwise if any <code class=\"language-text\">@match</code> rule is defined, the script matches only if some of the <code class=\"language-text\">@match</code> rules match.</li>\n<li>If no <code class=\"language-text\">@match</code> rule is defined, we fallback to <code class=\"language-text\">@include</code> rules and the script matches only if some of the <code class=\"language-text\">@include</code> rules match.</li>\n<li>If neither <code class=\"language-text\">@match</code> nor <code class=\"language-text\">@include</code> rule is defined, the script is assumed to match.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5353fff61b7784074245599dfc3ebf63/7a513/match.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 110.70013210039629%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAADRElEQVQ4y41VTUgbQRTe3Wx2N8ludk0rKUKommj8rzH+JYhtAoogelSRgKIXc1APiifx7ClVeumhh97Em6AgHgpaRCkeRIoHFUT8wYMggtDUU/q9adbGGqMDj/d2ZvLN9977ZsJxOcbGxsajuVQqdR+Xl5dzpaWlLPb7/VzOsbm5yfzCwoJ6dXX15fr6+sfZ2VksDcpn7n0WjMb29jbzS0tL6uXl5dfz8/Ofx8fHAzS3uroq1NfX85WVlTxY3oPX1dXlBl1bW8v8tMPEQCCQV1JSooEVmYHYZqafc+zs7HBdXV0snpuby5ucnHzv9Xr1UCjkBKiWYTqYCc8yXFlZ4VpbW1kcjUYVgL+muLGxUaipqeFhJogdJr0o5f+GhrR0n89nIFUV3TU8Ho+IWkpg+TLAmZkZ5mdnZ9WpqakgQgdYEyNbMBi0wSswF0zOCYgTme/p6WE+Fotpo6OjPoTWcDgs19bWSjDyIkCMR4CmOMmTka7Kyso4t9v9IOWqqipKmXUY6wZNppk+Zoj2P5l6R0eHe2RkhG1oa2sTSH/V1dVmUxwPACm94uJiU/EWMJRxuoxYQidt+M4bHh7On56efpd59RKJBJcVkEZFRQXzABaRkg4QB0Dt1FGn06mniTIBW61WVg4w5J5kmG4Ej3rIzc3NIswqCALf2dnpQncDaS2q2crxJCCJE/ErmAKzg6Wtu7tbm5iY8CuKIra0tOiFhYUS2EnQI3klK6CZNwQqInWjqKjISXeVUi4oKDDMVDF0rDtw/dhhMDVrl01AkyG0RaK1g43c3t7+hgQ9Pz8vj4+Ph7BNikQiJGYFZVEQy01NTfkQO2M7NDT079GEeBUAuPr7+0m0EphY+/r6bGNjY17IxkDqJAULCZtqTWrAt4AsqGnSfVHxxj13h+W0t2ZbRG1deIG0B5OHh4dvl5eXw4uLix9OTk48mWtISQcjraGh4Q2Y28GayWh9fT1+e3ubwv5fFxcXyZubm997e3sR9iNMfEsmk6m7u7vU0dHRd2LT29uroVYqjN4/F8xJ7148HmdMt7a2QgD7fHBwkAChj4g/7e7u/r3D+/v7EfxfDJyeng5gMkpzg4ODFgBYACTA8y994/4AVUELx1+x60MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"match.png\"\n        title=\"match.png\"\n        src=\"/static/5353fff61b7784074245599dfc3ebf63/34e8a/match.png\"\n        srcset=\"/static/5353fff61b7784074245599dfc3ebf63/d4214/match.png 150w,\n/static/5353fff61b7784074245599dfc3ebf63/135ae/match.png 300w,\n/static/5353fff61b7784074245599dfc3ebf63/34e8a/match.png 600w,\n/static/5353fff61b7784074245599dfc3ebf63/7a513/match.png 757w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"Matching","description":""}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/api/matching/"}}}